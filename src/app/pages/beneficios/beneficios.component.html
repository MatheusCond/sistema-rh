<section class="beneficios-container">
    <h1>Gerenciamento de Benef√≠cios</h1>
    <p class="subtitle">Acompanhe e gerencie os benef√≠cios oferecidos aos funcion√°rios de forma simples e eficiente.</p>
  
    <div class="filtros">
      <input type="text" placeholder="Pesquisar por nome ou CPF" [(ngModel)]="searchTerm">
      
      <select [(ngModel)]="selectedTipo">
        <option value="todos">Todos os Tipos</option>
        <option *ngFor="let tipo of tiposBeneficio" [value]="tipo">{{ tipo }}</option>
      </select>
  
      <select [(ngModel)]="selectedStatus">
        <option value="todos">Todos Status</option>
        <option value="ativo">Ativo</option>
        <option value="inativo">Inativo</option>
      </select>
  
      <button class="add-button" (click)="openModal()">+ Adicionar Benef√≠cio</button>
    </div>
  
    <div class="table-responsive">
      <table>
        <thead>
          <tr>
            <th>Funcion√°rio</th>
            <th>Cargo</th>
            <th>Benef√≠cio</th>
            <th>Valor</th>
            <th>Data Concess√£o</th>
            <th>Status</th>
            <th>A√ß√µes</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let beneficio of beneficios()">
            <td>{{ beneficio.funcionario }}</td>
            <td>{{ beneficio.cargo }}</td>
            <td>{{ beneficio.tipo }}</td>
            <td>{{ beneficio.valor | currency:'BRL' }}</td>
            <td>{{ beneficio.dataConcessao | date:'dd/MM/yyyy' }}</td>
            <td>
              <span class="status-badge" [class.ativo]="beneficio.status">
                {{ beneficio.status ? 'Ativo' : 'Inativo' }}
              </span>
            </td>
            <td class="actions">
              <button class="edit-btn" (click)="openModal(beneficio)">‚úèÔ∏è</button>
              <button class="delete-btn" (click)="deleteBeneficio(beneficio.id)">üóëÔ∏è</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  
  <!-- Modal -->
  <div class="modal-overlay" *ngIf="showModal">
    <div class="modal">
      <h2>{{ editing ? 'Editar' : 'Novo' }} Benef√≠cio</h2>
      <form (ngSubmit)="saveBeneficio()">
        <div class="form-group">
          <label>Funcion√°rio:</label>
          <select [(ngModel)]="selectedBeneficio.funcionario" name="funcionario" required>
            <option *ngFor="let func of funcionarios" [value]="func">{{ func }}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Tipo de Benef√≠cio:</label>
          <select [(ngModel)]="selectedBeneficio.tipo" name="tipo" required>
            <option *ngFor="let tipo of tiposBeneficio" [value]="tipo">{{ tipo }}</option>
          </select>
        </div>
  
        <div class="form-group">
          <label>Valor:</label>
          <input type="number" [(ngModel)]="selectedBeneficio.valor" name="valor" min="0" required>
        </div>
  
        <div class="form-group">
          <label>Data de Concess√£o:</label>
          <input type="date" [(ngModel)]="selectedBeneficio.dataConcessao" name="dataConcessao" required>
        </div>
  
        <div class="form-group">
          <label>Status:</label>
          <select [(ngModel)]="selectedBeneficio.status" name="status" required>
            <option [value]="true">Ativo</option>
            <option [value]="false">Inativo</option>
          </select>
        </div>
  
        <div class="form-buttons">
          <button type="button" class="cancel-btn" (click)="closeModal()">Cancelar</button>
          <button type="submit" class="save-btn">Salvar</button>
        </div>
      </form>
    </div>
  </div>